/* 
 * Override specific react-calendar default styles
 * Comprehensive styling with DaisyUI token integration
 */

/* Base calendar override - removes default constraints */
.react-calendar {
  width: 100%; /* Override fixed width of 350px */
  border: none; /* Remove the default border */
  font-family: inherit;
  line-height: 1.125em;
}

/* Main calendar container with theme tokens */
.react-calendar-custom {
  width: 100%;
  background: hsl(var(--b1));
  color: hsl(var(--bc));
  border: 1px solid var(--b2c, hsl(var(--b2, 0 0% 98%)));
  border-radius: 0.5rem;
  padding: 0rem;
  box-shadow: 0 1px 3px 0 hsl(var(--bc) / 0.1);
}

/* Remove underlines from abbreviations */
.react-calendar-custom abbr {
  text-decoration: none;
  cursor: inherit; /* allow pointer on enabled tiles */
  pointer-events: none; /* let tile receive hover/focus */
}

/* Navigation section */
.react-calendar-custom .react-calendar__navigation {
  display: flex;
  margin-bottom: 0.5rem;
}

.react-calendar-custom .react-calendar__navigation button {
  min-width: 2.5rem;
  background: transparent;
  color: hsl(var(--bc));
  border-radius: 0.25rem;
  padding: 0.5rem;
}

.react-calendar-custom .react-calendar__navigation button:disabled {
  color: hsl(var(--bc) / 0.3);
  opacity: 0.4;
  background: transparent !important;
  cursor: not-allowed;
}

.react-calendar-custom .react-calendar__navigation button:enabled:hover,
.react-calendar-custom .react-calendar__navigation button:enabled:focus {
  background-color: var(--b2c, hsl(var(--b2, 0 0% 98%)));
}

/* Month view container */
.react-calendar-custom .react-calendar__viewContainer {
  padding: 0.25rem 0;
}

/* Weekday headers */
.react-calendar-custom .react-calendar__month-view__weekdays {
  text-align: center;
  text-transform: uppercase;
  font-size: 0.75em;
  font-weight: 600;
  color: hsl(var(--bc) / 0.7);
  margin-bottom: 0.5rem;
}

.react-calendar-custom .react-calendar__month-view__weekdays__weekday {
  padding: 0.25rem;
}

/* Day tiles */
.react-calendar-custom .react-calendar__tile {
  padding: 0.5rem;
  background: none;
  text-align: center;
  border-radius: 0.25rem;
  color: hsl(var(--bc));
  font-weight: 500;
}

.react-calendar-custom .react-calendar__tile:enabled:hover,
.react-calendar-custom .react-calendar__tile:enabled:focus {
  background-color: color-mix(in srgb, var(--b2c, hsl(var(--b2, 0 0% 98%))) 100%, transparent);
  outline: none;
}

/* Today's date */
.react-calendar-custom .react-calendar__tile--now {
  background: var(--b2c, hsl(var(--b2, 0 0% 98%)));
  font-weight: 600;
}

.react-calendar-custom .react-calendar__tile--now:enabled:hover,
.react-calendar-custom .react-calendar__tile--now:enabled:focus {
  background: color-mix(in srgb, var(--b2c, hsl(var(--b2, 0 0% 98%))) 80%, transparent);
}

/* Selected date */
.react-calendar-custom .react-calendar__tile--active {
  background: var(--p-color, hsl(var(--p, 220 90% 56%)));
  color: hsl(var(--pc, var(--b1)));
}

.react-calendar-custom .react-calendar__tile--active:enabled:hover,
.react-calendar-custom .react-calendar__tile--active:enabled:focus {
  background: color-mix(in srgb, var(--p-color, hsl(var(--p, 220 90% 56%))) 90%, transparent);
}

/* Range selection (between dates in a range) */
.react-calendar-custom .react-calendar__tile--rangeStart,
.react-calendar-custom .react-calendar__tile--rangeEnd {
  background: var(--p-color, hsl(var(--p, 220 90% 56%)));
  color: hsl(var(--pc, var(--b1)));
}

.react-calendar-custom .react-calendar__tile--inRange {
  background: color-mix(in srgb, var(--p-color, hsl(var(--p, 220 90% 56%))) 20%, transparent);
}

.react-calendar-custom .react-calendar__tile--inRange:hover {
  background: color-mix(in srgb, var(--p-color, hsl(var(--p, 220 90% 56%))) 30%, transparent);
}

/* Disabled tiles */
.react-calendar-custom .react-calendar__tile:disabled {
  background-color: color-mix(in srgb, var(--b2c, hsl(var(--b2, 0 0% 98%))) 50%, transparent);
  color: hsl(var(--bc) / 0.5);
  cursor: not-allowed;
}

/* Strengthened styling for all disabled (past / no-availability) tiles */
.react-calendar-custom .react-calendar__tile:disabled,
.react-calendar-custom .react-calendar__tile--disabled {
  background-color: color-mix(in srgb, var(--b2c, hsl(var(--b2, 0 0% 98%))) 80%, transparent);
  border: 1px dashed var(--b2c, hsl(var(--b2, 0 0% 98%)));
  opacity: 0.5; /* more muted */
  border: 1px dashed var(--b2c, hsl(var(--b2, 0 0% 98%)));
}

/* Ensure "today" tile still looks disabled when it is not selectable */
.react-calendar-custom .react-calendar__tile--now:disabled,
.react-calendar-custom .react-calendar__tile--now.react-calendar__tile--disabled {
  background-color: hsl(var(--b2, 0 0% 98%) / 0.8);
  color: hsl(var(--bc) / 0.35);
  opacity: 0.7;
  border: 1px dashed hsl(var(--b2, 0 0% 98%));
}

/* Neighboring month days */
.react-calendar-custom .react-calendar__month-view__days__day--neighboringMonth {
  color: hsl(var(--bc) / 0.5);
}

/* ------------------------------------------------------------------ */
/* Circle-style hover & active effects                                */
/* ------------------------------------------------------------------ */

/* Enable pointer cursor on selectable tiles */
.react-calendar-custom .react-calendar__tile:enabled {
  cursor: pointer;
}

/* Remove existing hover bg so circle stands out */
.react-calendar-custom .react-calendar__tile:enabled:hover,
.react-calendar-custom .react-calendar__tile:enabled:focus {
  background-color: hsl(var(--b2, 0 0% 98%) / 0.5); /* subtle tint on hover */
}

/* Circle on hover / focus */
.react-calendar-custom .react-calendar__tile:enabled:hover abbr,
.react-calendar-custom .react-calendar__tile:enabled:focus abbr {
  background-color: hsl(var(--p, 220 90% 56%) / 0.18);
  color: hsl(var(--bc));
  border: 1px solid hsl(var(--p, 220 90% 56%) / 0.4);
  transition: background-color 120ms ease, box-shadow 120ms ease;
  box-shadow: 0 0 0 2px hsl(var(--p, 220 90% 56%) / 0.08);
  min-width: 2.25rem;
  height: 2.25rem;
  border-radius: 9999px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* Active (selected) date – primary-coloured circle */
.react-calendar-custom .react-calendar__tile--active {
  background: transparent; /* let circle show only */
  color: hsl(var(--bc));
}

/* Keep selected day dominant and slightly stronger on hover */
.react-calendar-custom .react-calendar__tile--active abbr {
  background: hsl(var(--p, 220 90% 56%));
  color: hsl(var(--pc, var(--b1)));
  border: 1px solid hsl(var(--p, 220 90% 56%) / 0.6);
  border-radius: 9999px;
  display: inline-flex;
  min-width: 2rem;
  height: 2rem;
  align-items: center;
  justify-content: center;
}

.react-calendar-custom .react-calendar__tile--active:enabled:hover abbr,
.react-calendar-custom .react-calendar__tile--active:enabled:focus abbr {
  background: hsl(var(--p, 220 90% 56%) / 0.92);
  box-shadow: 0 0 0 2px hsl(var(--p) / 0.12);
}

/* ------------------------------------------------------------- */
/* Ensure hover tint is never overridden (comes last + !important)*/
/* ------------------------------------------------------------- */
.react-calendar-custom .react-calendar__tile:enabled:hover,
.react-calendar-custom .react-calendar__tile:enabled:focus,
.react-calendar-custom .react-calendar__tile--active:enabled:hover,
.react-calendar-custom .react-calendar__tile--active:enabled:focus {
  background-color: hsl(var(--b2, 0 0% 98%) / 0.5) !important;
  /* inset overlay switched to primary tint for clearer feedback */
  box-shadow: inset 0 0 0 9999px hsl(var(--p, 220 90% 56%) / 0.15) !important;
}

/* ------------------------------------------------------------------ */
/* Highest-specificity hover tint (wins over any earlier rule)         */
/* ------------------------------------------------------------------ */
.react-calendar.react-calendar-custom .react-calendar__month-view .react-calendar__tile:not([disabled]):hover,
.react-calendar.react-calendar-custom .react-calendar__month-view .react-calendar__tile:not([disabled]):focus {
  background-color: transparent !important;
  /* single visible overlay – primary-ish tint */
  box-shadow: inset 0 0 0 9999px rgba(59, 130, 246, 0.18) !important;
}

/* ================================================================== */
/*  Typography & visual tweaks (added last for highest precedence)    */
/* ================================================================== */

/* 1) Bigger nav arrows and buttons */
.react-calendar-custom .react-calendar__navigation button {
  font-size: 1.125rem; /* text-lg */
}

/* 2) Month label: larger, bold & primary-coloured */
.react-calendar-custom .react-calendar__navigation__label {
  font-size: 1.25rem;        /* text-xl */
  font-weight: 700;
  color: var(--p-color, hsl(var(--p, 220 90% 56%)));
}

/* 3) Weekday header font size */
.react-calendar-custom .react-calendar__month-view__weekdays {
  font-size: 0.9rem; /* ~14.4px */
}

/* 4) Day numbers */
.react-calendar-custom .react-calendar__tile abbr {
  font-size: 1rem; /* 16px */
}

/* ================================================================== */
/*  Circle-only hover (remove square overlay)                         */
/* ================================================================== */

.react-calendar-custom .react-calendar__tile:enabled:hover,
.react-calendar-custom .react-calendar__tile:enabled:focus,
.react-calendar-custom .react-calendar__tile--active:enabled:hover,
.react-calendar-custom .react-calendar__tile--active:enabled:focus,
.react-calendar.react-calendar-custom .react-calendar__month-view .react-calendar__tile:not([disabled]):hover,
.react-calendar.react-calendar-custom .react-calendar__month-view .react-calendar__tile:not([disabled]):focus {
  background-color: transparent !important;
  box-shadow: none !important;
}

/* Strengthen the abbr circle hover with fallback + theme colour */
.react-calendar-custom .react-calendar__tile:enabled:hover abbr,
.react-calendar-custom .react-calendar__tile:enabled:focus abbr {
  /* fallback then theme – if second invalid, first stays */
  background-color: rgba(59, 130, 246, 0.30) !important;
  background-color: hsl(var(--p, 220 90% 56%) / 0.30) !important;
  color: hsl(var(--bc));
  border: 1px solid rgba(59, 130, 246, 0.60) !important;
  border: 1px solid hsl(var(--p, 220 90% 56%) / 0.60) !important;
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.18) !important;
  min-width: 2.25rem;
  height: 2.25rem;
  border-radius: 9999px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}